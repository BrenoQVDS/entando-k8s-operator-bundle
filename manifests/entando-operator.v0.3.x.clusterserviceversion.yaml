apiVersion: operators.coreos.com/v1alpha1
kind: ClusterServiceVersion
metadata:
  name: entando-operator.v0.3.35
  namespace: placeholder
  annotations:
    alm-examples: >-
      [
        {"apiVersion":"entando.org/v1","kind":"EntandoDatabaseService","metadata":{"name":"my-entando-database-service","namespace":"my-namespace"},"spec":{"dbms":"postgresql","databaseName":"my_database","createDeployment":true}},
        {"apiVersion":"entando.org/v1","kind":"EntandoKeycloakServer","metadata":{"name":"my-keycloak","namespace":"my-namespace"},"spec":{"standardImage":"redhat-sso", "dbms":"postgresql","replicas":1,"environmentVariables":[]}},
        {"apiVersion":"entando.org/v1","kind":"EntandoClusterInfrastructure","metadata":{"name":"my-entando-cluster-infrastructure","namespace":"my-namespace"},"spec":{"replicas":1,"environmentVariables":[]}},
        {"apiVersion":"entando.org/v1","kind":"EntandoPlugin","metadata":{"name":"my-entando-plugin","namespace":"my-namespace"},"spec": {"dbms": "postgresql","healthCheckPath": "/management/health","image": "entando/entando-avatar-plugin:6.0.5","ingressHostName": "my-plugin.apps-crc.testing","ingressPath": "/avatarPlugin","replicas": 1,"roles": [{"code": "admin","name": "user"},{"code": "user","name": "user"}],"securityLevel": "strict"}},
        {"apiVersion":"entando.org/v1","kind":"EntandoApp","metadata":{"name":"my-app","namespace":"my-namespace"},"spec":{"dbms":"postgresql","environmentVariables":[],"ingressHostName":"my-app.apps-crc.testing","replicas":1,"standardServerImage":"eap"}},
        {"apiVersion":"entando.org/v1","kind":"EntandoAppPluginLink","metadata":{"name":"my-link","namespace":"my-namespace"},"spec":{"entandoAppName":"my-app","entandoPluginName":"my-plugin"}},
        {"apiVersion":"entando.org/v1","kind":"EntandoCompositeApp","metadata":{"name":"my-entando-composite-app","namespace":"my-namespace"},"spec":{"dbmsOverride":"postgresql","ingressHostNameOverride":"entando.apps-crc.testing","components":[{"kind":"EntandoDatabaseService","metadata":{"name":"inline-entando-database-service"},"spec":{"createDeployment":true}},{"kind":"EntandoKeycloakServer","metadata":{"name":"inline-keycloak"},"spec":{"standardImage":"redhat-sso"}},{"kind":"EntandoClusterInfrastructure","metadata":{"name":"inline-entando-cluster-infrastructure"},"spec":{}},{"apiVersion":"entando.org/v1","kind":"EntandoApp","metadata":{"name":"inline-app"},"spec":{"standardServerImage":"eap"}},{"kind":"EntandoPlugin","metadata":{"name":"inline-plugin"},"spec":{"healthCheckPath":"/management/health","image":"entando/entando-avatar-plugin:6.0.5","ingressPath":"/avatarPlugin","roles":[{"code":"admin","name":"admin"},{"code":"user","name":"user"}],"securityLevel":"strict"}},{"apiVersion":"entando.org/v1","kind":"EntandoAppPluginLink","metadata":{"name":"inline-link"},"spec":{"entandoAppName":"inline-app","entandoPluginName":"inline-plugin"}}]}}
      ]
    categories: Developer Tools
    certified: 'false'
    createdAt: ''
    description: >-
      Processes EntandoKeycloakServer, EntandoApp and EntandoPlugin custom
      resources and deploys the relevant containers in the Kubernetes cluster.
    containerImage: ''
    support: ''
    capabilities: Basic Install
    repository: ''
spec:
  displayName: Entando Operator
  maturity: beta
  version: 0.3.35
#  replaces: entando-operator.v0.3.32
  skips: []
  description: >
    ## Entando


    Entando is a micro frontend platform for Kubernetes that helps enterprises
    innovate faster with parallel development teams that have end-to-end
    autonomy across the entire stack.


    With native support for Javascript app development, a micro frontend and
    microservices architecture, deployment of apps in containers that can be
    individually scaled up and down, and automated management of containers with
    Kubernetes, we simplify the move for enterprises looking to modernize across
    on-prem and cloud infrastructures.

    ## About this Operator

    The Entando Operator processes the various custom resource in Kubernetes
    that represent the different component of an Entando application.

    EntandoKeycloakServers are used to deploy Keycloak, or in certified
    environments, Red Hat SSO servers that can then be used by subsequent
    deployments as an OIDC provider,

    EntandoApps are used to deploy the appropriate Wildfly or JBoss EAP
    containers hosting an Entando App, or potentially also custom containers.

    EntandoPlugins can be used to deploy Entando microservice plugins in the
    cluster and then link them to one or more EntandoApps.

    ## Prerequisites for enabling this Operator

    ### entando-pull-secret

    The secret to be used to pull Entando images from the Red Hat container
    registry

    ### entando-ca-cert-secret

    This an opaque secret in the Entando Operator's namespace that contains the
    certificates of all trusted certificate authorities 

    in your environment. This is generally used mainly for self signed
    certificates. As is generally the case for opaque

    secrets, there are no constraints on the keys in this secret. However, limit
    the files to only contain a single

    certificate. Certificate chains are therefore not supported and should
    ideally be split into single files for each

    certificate. the Entando Operator will load all of these files into a Java
    keystore that it then configures as the 

    trust store for each container that uses Java.

  minKubeVersion: 1.19.0
  keywords:
    - MFE
  maintainers:
    - name: support
      email: dev@entando.com
    - name: author
      email: a.barnard@entando.com
  provider:
    name: 'Entando, Inc'
  labels: {}
  selector:
    matchLabels: {}
  links:
    - name: Documentation
      url: 'https://dev.entando.org/v6.3/docs/'
    - name: Support
      url: 'https://www.entando.com/'
  icon:
    - base64data: >-
        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
      mediatype: image/png
  customresourcedefinitions:
    owned:
      - name: entandokeycloakservers.entando.org
        displayName: EntandoKeycloakServer
        kind: EntandoKeycloakServer
        version: v1
        description: Entando Keycloak Server
        resources:
          - version: v1
            kind: Deployment
          - version: v1
            kind: Service
          - version: v1
            kind: Pod
          - version: v1
            kind: Secret
          - version: v1
            kind: ConfigMap
          - version: v1
            kind: Ingress
          - version: v1
            kind: PersistentVolumeClaim
        specDescriptors: []
        statusDescriptors: []
      - name: entandoclusterinfrastructures.entando.org
        displayName: EntandoClusterInfrastructure
        kind: EntandoClusterInfrastructure
        version: v1
        description: Entando Cluster Infrastructure
        resources:
          - version: v1
            kind: Deployment
          - version: v1
            kind: Service
          - version: v1
            kind: Pod
          - version: v1
            kind: Secret
          - version: v1
            kind: ConfigMap
          - version: v1
            kind: Ingress
          - version: v1
            kind: PersistentVolumeClaim
        specDescriptors: []
        statusDescriptors: []
      - name: entandoplugins.entando.org
        displayName: EntandoPlugin
        kind: EntandoPlugin
        version: v1
        description: Entando Plugin
        resources:
          - version: v1
            kind: Deployment
          - version: v1
            kind: Service
          - version: v1
            kind: Pod
          - version: v1
            kind: Secret
          - version: v1
            kind: ConfigMap
          - version: v1
            kind: Ingress
          - version: v1
            kind: PersistentVolumeClaim
        specDescriptors: []
        statusDescriptors: []
      - name: entandocompositeapps.entando.org
        displayName: EntandoCompositeApp
        kind: EntandoCompositeApp
        version: v1
        description: Entando Composite App
        resources:
          - version: v1
            kind: Deployment
          - version: v1
            kind: Service
          - version: v1
            kind: Pod
          - version: v1
            kind: Secret
          - version: v1
            kind: ConfigMap
          - version: v1
            kind: Ingress
          - version: v1
            kind: PersistentVolumeClaim
        specDescriptors: []
        statusDescriptors: []
      - name: entandodatabaseservices.entando.org
        displayName: EntandoDatabaseService
        kind: EntandoDatabaseService
        version: v1
        description: Entando Database Service
        resources:
          - version: v1
            kind: Deployment
          - version: v1
            kind: Service
          - version: v1
            kind: Pod
          - version: v1
            kind: Secret
          - version: v1
            kind: PersistentVolumeClaim
        specDescriptors: []
        statusDescriptors: []
      - name: entandoapps.entando.org
        displayName: EntandoApp
        kind: EntandoApp
        version: v1
        description: Entando App
        resources:
          - version: v1
            kind: Deployment
          - version: v1
            kind: Service
          - version: v1
            kind: Pod
          - version: v1
            kind: Secret
          - version: v1
            kind: ConfigMap
          - version: v1
            kind: Ingress
          - version: v1
            kind: PersistentVolumeClaim
        specDescriptors: []
        statusDescriptors: []
      - name: entandoapppluginlinks.entando.org
        displayName: EntandoAppPluginLink
        kind: EntandoAppPluginLink
        version: v1
        description: Entando App Plugin Link
        resources:
          - version: v1
            kind: Service
          - version: v1
            kind: Ingress
        specDescriptors: []
        statusDescriptors: []
      - name: entandodebundles.entando.org
        displayName: EntandoDeBundle
        kind: EntandoDeBundle
        version: v1
        description: EntandoDeBundle
        resources:
        specDescriptors: []
        statusDescriptors: []
    required: []
  relatedImages:
    - name: rhel8-mysql-80
      image: registry.redhat.io/rhel8/mysql-80@sha256:162662b43ebc94e30f9ac66a57b143b192aebd65bb96cf44b1d54dd140563cd6
    - name: rhel8-postgresql-12
      image: registry.redhat.io/rhel8/postgresql-12@sha256:c6b6da4f762c2f68bfe558efe954739438ffa2e9aae1c617b50011fb0eed8347
    - name: entando-redhat-sso
      image: entando/entando-redhat-sso@sha256:a67ca13039479dbc13cd68380e4e33fa316397df20e96375c9b77e6022bd442e
    - name: entando-k8s-service
      image: entando/entando-k8s-service@sha256:318de20c2d04108261d86074aec3c8b38b32f588b007d5a56942efb40592f442
    - name: entando-de-app-eap
      image: entando/entando-de-app-eap@sha256:d3e421c39af3c5ef641f7882bd158bc727b689595611c7176afab9231db94871
    - name: entando-app-builder
      image: entando/app-builder@sha256:bf650ceb0136daaa1a58c3862d1dae93db59cd00a651ede2a1680dc89aaf31c0?
    - name: entando-component-manager
      image: entando/entando-component-manager@sha256:8eacc548248494d71b5bc801b92a993f398196f0cf584891718b8d56ea811691
    - name: entando-k8s-dbjob
      image: entando/entando-k8s-dbjob@sha256:c272afb5fe137729466aec6b275f681af47f2ba6f29070ed3e647eb06f8932e4
    - name: entando-k8s-keycloak-controller
      image: entando/entando-k8s-keycloak-controller@sha256:d96d50d9e7abb84b3f4b1e8c007553a7d7abd17ef1d7d78b5c939da57d537100
    - name: entando-k8s-plugin-controller
      image: entando/entando-k8s-plugin-controller@sha256:56261256b117efe755e1088b14ee157d491daa84acf060597aef27859027d648
    - name: entando-k8s-cluster-infrastructure-controller
      image: entando/entando-k8s-cluster-infrastructure-controller@sha256:e35a40e92d8d50350fec3266f1b397a6aa020087530baaa4c907d9f9fd7d5169
    - name: entando-k8s-composite-app-controller
      image: entando/entando-k8s-composite-app-controller@sha256:9173d5b43e959f6b2d10e309a6fa6e0c0dda78b93e548cdbef27b79f44be8401
    - name: entando-k8s-database-service-controller
      image: entando/entando-k8s-database-service-controller@sha256:ea7bdc126b6726ee61023cd37d8530c3b8cc44721925ff794508b808f5a52f39
    - name: entando-k8s-app-controller
      image: entando/entando-k8s-app-controller@sha256:f5cb61d046ace2d25baa100f0a0f19ef3a980f7f67202478da091547f4848618
    - name: entando-k8s-app-plugin-link-controller
      image:  entando/entando-k8s-app-plugin-link-controller@sha256:e7614d9d7b84620531ff21f34fdc77751b450023b801035ccd91c19911071f5b
  install:
    strategy: deployment
    spec:
      permissions:
        - serviceAccountName: entando-operator
          rules:
            - apiGroups:
                - entando.org
              resources:
                - '*'
              verbs:
                - '*'
            - apiGroups:
                - ''
              resources:
                - secrets
              verbs:
                - create
                - get
                - delete
                - update
            - apiGroups:
                - ''
              resources:
                - pods/exec
              verbs:
                - get
            - apiGroups:
                - ''
              resources:
                - pods
                - endpoints
                - services
                - configmaps
                - persistentvolumeclaims
                - serviceaccounts
              verbs:
                - create
                - get
                - update
                - delete
            - apiGroups:
                - apps
              resources:
                - deployments
              verbs:
                - '*'
            - apiGroups:
                - extensions
              resources:
                - ingresses
                - deployments
              verbs:
                - '*'
            - apiGroups:
                - route.openshift.io
              resources:
                - routes
                - routes/custom-host
              verbs:
                - '*'
            - apiGroups:
                - ''
              resources:
                - namespaces
              verbs:
                - get
            - apiGroups:
                - rbac.authorization.k8s.io
              resources:
                - roles
              verbs:
                - get
            - apiGroups:
                - rbac.authorization.k8s.io
              resources:
                - rolebindings
              verbs:
                - get
                - create
      clusterPermissions:
        - serviceAccountName: entando-operator
          rules:
            - apiGroups:
                - entando.org
              resources:
                - '*'
              verbs:
                - '*'
            - apiGroups:
                - ''
              resources:
                - secrets
              verbs:
                - create
            - apiGroups:
                - ''
              resources:
                - pods/exec
              verbs:
                - get
            - apiGroups:
                - ''
              resources:
                - configmaps
                - endpoints
                - pods
                - services
                - serviceaccounts
                - persistentvolumeclaims
              verbs:
                - '*'
            - apiGroups:
                - apps
              resources:
                - deployments
              verbs:
                - '*'
            - apiGroups:
                - 'extensions'
              resources:
                - deployments
                - ingresses
              verbs:
                - '*'
            - apiGroups:
                - route.openshift.io
              resources:
                - routes
                - routes/custom-host
              verbs:
                - '*'
            - apiGroups:
                - ''
              resources:
                - namespaces
              verbs:
                - get
            - apiGroups:
                - rbac.authorization.k8s.io
              resources:
                - roles
              verbs:
                - get
            - apiGroups:
                - rbac.authorization.k8s.io
              resources:
                - rolebindings
              verbs:
                - get
                - create
        - serviceAccountName: pod-viewer
          rules:
            - apiGroups:
                - ''
              resources:
                - pods
              verbs:
                - get
                - list
                - watch
        - serviceAccountName: entando-editor
          rules:
            - apiGroups:
                - entando.org
              resources:
                - '*'
              verbs:
                - '*'
      deployments:
        - name: entando-operator
          spec:
            replicas: 1
            selector:
              matchLabels:
                k8s-app: entando-operator
            template:
              metadata:
                labels:
                  k8s-app: entando-operator
              spec:
                imagePullSecrets:
                  - name: entando-pull-secret
                volumes:
                  - name: ca-cert-secret-volume
                    secret:
                      secretName: entando-ca-cert-secret
                containers:
                  - image: entando/entando-k8s-controller-coordinator@sha256:89072261ae3e88c7054e10e1808bd706499c805585aa27f54f7f353efcf9c2f6
                    imagePullPolicy: Always
                    name: entando-operator
                    resources:
                      limits:
                        cpu: 200m
                        memory: 100Mi
                      requests:
                        cpu: 100m
                        memory: 50Mi
                    env:
                      - name: ENTANDO_NAMESPACES_TO_OBSERVE
                        valueFrom:
                          fieldRef:
                            fieldPath: 'metadata.annotations[''olm.targetNamespaces'']'
                      - name: POD_NAME
                        valueFrom:
                          fieldRef:
                            fieldPath: metadata.name
                      - name: ENTANDO_DEFAULT_ROUTING_SUFFIX
                        valueFrom:
                          configMapKeyRef:
                            name: entando-k8s-operator-config
                            key: default.routing.suffix
                      - name: ENTANDO_POD_READINESS_TIMEOUT_SECONDS
                        valueFrom:
                          configMapKeyRef:
                            name: entando-k8s-operator-config
                            key: pod.readiness.timeout.seconds
                      - name: ENTANDO_POD_COMPLETION_TIMEOUT_SECONDS
                        valueFrom:
                          configMapKeyRef:
                            name: entando-k8s-operator-config
                            key: pod.completion.timeout.seconds
                      - name: ENTANDO_POD_SHUTDOWN_TIMEOUT_SECONDS
                        valueFrom:
                          configMapKeyRef:
                            name: entando-k8s-operator-config
                            key: pod.shutdown.timeout.seconds
                      - name: ENTANDO_DISABLE_KEYCLOAK_SSL_REQUIREMENT
                        valueFrom:
                          configMapKeyRef:
                            name: entando-k8s-operator-config
                            key: disable.keycloak.ssl.requirement
                      - name: ENTANDO_K8S_OPERATOR_FORCE_DB_PASSWORD_RESET
                        valueFrom:
                          configMapKeyRef:
                            name: entando-k8s-operator-config
                            key: force.db.password.reset
                      - name: ENTANDO_K8S_OPERATOR_DISABLE_PVC_GARBAGE_COLLECTION
                        valueFrom:
                          configMapKeyRef:
                            name: entando-k8s-operator-config
                            key: disable.pvc.garbage.collection
                      - name: ENTANDO_K8S_OPERATOR_IMAGE_PULL_SECRETS
                        valueFrom:
                          configMapKeyRef:
                            name: entando-k8s-operator-config
                            key: image.pull.secrets
                      - name: ENTANDO_USE_AUTO_CERT_GENERATION
                        valueFrom:
                          configMapKeyRef:
                            name: entando-k8s-operator-config
                            key: use.auto.cert.generation
                      - name: ENTANDO_K8S_OPERATOR_DEPLOYMENT_TYPE
                        value: olm
                      - name: OPERATOR_NAME
                        value: entando-operator
                      - name: ENTANDO_PATH_TO_TLS_KEYPAIR
                        value: /etc/entando/tls
                      - name: ENTANDO_CA_CERT_ROOT_FOLDER
                        value: /etc/entando/ca
                      - name: ENTANDO_K8S_OPERATOR_SECURITY_MODE
                        value: strict
                      - name: ENTANDO_K8S_OPERATOR_COMPLIANCE_MODE
                        value: redhat
                      - name: ENTANDO_K8S_OPERATOR_SERVICEACCOUNT
                        valueFrom:
                          fieldRef:
                            fieldPath: spec.serviceAccountName
                      - name: RELATED_IMAGE_RHEL8_MYSQL_80
                        value: registry.redhat.io/rhel8/mysql-80@sha256:162662b43ebc94e30f9ac66a57b143b192aebd65bb96cf44b1d54dd140563cd6
                      - name: RELATED_IMAGE_RHEL8_POSTGRESQL_12
                        value: registry.redhat.io/rhel8/postgresql-12@sha256:c6b6da4f762c2f68bfe558efe954739438ffa2e9aae1c617b50011fb0eed8347
                      - name: RELATED_IMAGE_ENTANDO_K8S_SERVICE
                        value: entando/entando-k8s-service@sha256:318de20c2d04108261d86074aec3c8b38b32f588b007d5a56942efb40592f442
                      - name: RELATED_IMAGE_ENTANDO_DE_APP_EAP
                        value: entando/entando-de-app-eap@sha256:d3e421c39af3c5ef641f7882bd158bc727b689595611c7176afab9231db94871
                      - name: REALATED_IMAGE_APP_BUILDER
                        value: entando/app-builder@sha256:bf650ceb0136daaa1a58c3862d1dae93db59cd00a651ede2a1680dc89aaf31c0?
                      - name: RELATED_IMAGE_ENTANDO_COMPONENT_MANAGER
                        value: entando/entando-component-manager@sha256:8eacc548248494d71b5bc801b92a993f398196f0cf584891718b8d56ea811691
                      - name: RELATED_IMAGE_ENTANDO_REDHAT_SSO
                        value: entando/entando-redhat-sso@sha256:a67ca13039479dbc13cd68380e4e33fa316397df20e96375c9b77e6022bd442e
                      - name: RELATED_IMAGE_ENTANDO_K8S_DBJOB
                        value: entando/entando-k8s-dbjob@sha256:c272afb5fe137729466aec6b275f681af47f2ba6f29070ed3e647eb06f8932e4
                      - name: RELATED_IMAGE_ENTANDO_K8S_KEYCLOAK_CONTROLLER
                        value: entando/entando-k8s-keycloak-controller@sha256:d96d50d9e7abb84b3f4b1e8c007553a7d7abd17ef1d7d78b5c939da57d537100
                      - name: RELATED_IMAGE_ENTANDO_K8S_PLUGIN_CONTROLLER
                        value: entando/entando-k8s-plugin-controller@sha256:56261256b117efe755e1088b14ee157d491daa84acf060597aef27859027d648
                      - name: RELATED_IMAGE_ENTANDO_K8S_CLUSTER_INFRASTRUCTURE_CONTROLLER
                        value: entando/entando-k8s-cluster-infrastructure-controller@sha256:e35a40e92d8d50350fec3266f1b397a6aa020087530baaa4c907d9f9fd7d5169
                      - name: RELATED_IMAGE_ENTANDO_K8S_COMPOSITE_APP_CONTROLLER
                        value: entando/entando-k8s-composite-app-controller@sha256:9173d5b43e959f6b2d10e309a6fa6e0c0dda78b93e548cdbef27b79f44be8401
                      - name: RELATED_IMAGE_ENTANDO_K8S_DATABASE_SERVICE_CONTROLLER
                        value: entando/entando-k8s-database-service-controller@sha256:ea7bdc126b6726ee61023cd37d8530c3b8cc44721925ff794508b808f5a52f39
                      - name: RELATED_IMAGE_ENTANDO_K8S_APP_CONTROLLER
                        value:  entando/entando-k8s-app-controller@sha256:f5cb61d046ace2d25baa100f0a0f19ef3a980f7f67202478da091547f4848618
                      - name: RELATED_IMAGE_ENTANDO_K8S_APP_PLUGIN_LINK_CONTROLLER
                        value:  entando/entando-k8s-app-plugin-link-controller@sha256:e7614d9d7b84620531ff21f34fdc77751b450023b801035ccd91c19911071f5b
                    volumeMounts:
                      - name: ca-cert-secret-volume
                        mountPath: /etc/entando/ca
                    livenessProbe:
                      exec:
                        command:
                          - cat
                          - /tmp/EntandoControllerCoordinator.ready
                      initialDelaySeconds: 60
                      periodSeconds: 10
                      successThreshold: 1
                      timeoutSeconds: 1
                    readinessProbe:
                      exec:
                        command:
                          - cat
                          - /tmp/EntandoControllerCoordinator.ready
                      initialDelaySeconds: 60
                      periodSeconds: 10
                      successThreshold: 10
                      timeoutSeconds: 1
                nodeSelector:
                  beta.kubernetes.io/os: linux
                serviceAccountName: entando-operator
  installModes:
    - type: OwnNamespace
      supported: true
    - type: SingleNamespace
      supported: true
    - type: MultiNamespace
      supported: true
    - type: AllNamespaces
      supported: true
